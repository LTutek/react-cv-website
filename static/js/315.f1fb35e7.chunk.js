"use strict";(self.webpackChunksdx_react_example=self.webpackChunksdx_react_example||[]).push([[315],{8315:function(e,t,r){r.r(t),r.d(t,{sdx_pie_chart:function(){return p}});var a=r(1413),n=r(4942),i=r(6459),o=r(5671),c=r(3144),s=r(9187),h=r(7778),p=function(){function e(t){(0,o.Z)(this,e),(0,s.r)(this,t),this.viewBox=34,this.radius=16,this.segmentPaddingForSizeSmall=0,this.segmentPaddingForSizeMedium=3,this.hundredPercent=2*this.radius*Math.PI,this.animationDuration=300,this.data=[],this.value="",this.description=void 0,this.legendPosition="bottom",this.size="medium",this.backgroundTheme="light",this.dataParsed=(0,h.o)(this.data)||[]}return(0,c.Z)(e,[{key:"dataChanged",value:function(){this.dataParsed=(0,h.o)(this.data)||[]}},{key:"animateSegment",value:function(e,t){e.circle&&(e.circle.style.strokeDasharray="0 ".concat(this.hundredPercent),t.add({targets:e.circle,begin:function(){return e.circle.style.display=""},strokeDasharray:"".concat(e.width," ").concat(this.hundredPercent),duration:this.animationDuration,easing:"easeInQuint"}))}},{key:"animateLegendItem",value:function(e,t){e&&t.add({targets:e,opacity:1,duration:this.animationDuration,easing:"easeInQuint"})}},{key:"dataToSegments",value:function(){var e=this,t="medium"===this.size?this.segmentPaddingForSizeMedium:this.segmentPaddingForSizeSmall,r=this.dataParsed.reduce((function(e,t){return e+t.value}),0),a=this.dataParsed.filter((function(a){return a.value/r*e.hundredPercent<t})),n=a.reduce((function(e,t){return e+t.value}),0),o=360/this.hundredPercent*t,c=o;return this.dataParsed.filter((function(t,r){return(0,i.Z)(t),"small"!==e.size||0===r})).map((function(i){var s=e.hundredPercent-t*a.length,h=i.value/(r-n)*s;h<t?h=0:h-=t;var p={d:i,width:h,rotation:c};return c+=e.widthToDeg(p.width)+o,p}))}},{key:"widthToDeg",value:function(e){return 360/this.hundredPercent*e}},{key:"getComponentClassNames",value:function(){var e;return e={component:!0},(0,n.Z)(e,(0,h.g)(this.el),!0),(0,n.Z)(e,this.legendPosition,!0),(0,n.Z)(e,this.size,!0),(0,n.Z)(e,this.backgroundTheme,!0),e}},{key:"hasLabelsOrSrHints",value:function(){return this.dataParsed.some(this.hasLabelOrSrHint)}},{key:"hasLabelOrSrHint",value:function(e){return!!e.label||!!e.srHint}},{key:"render",value:function(){var e=this,t=this.viewBox/2,r=h.k.timeline(),n=h.k.timeline();return(0,s.h)("div",{class:this.getComponentClassNames()},(0,s.h)("div",{class:"wrapper"},(0,s.h)("div",{class:"chart-container"},(0,s.h)("div",{class:"chart"},"small"===this.size&&(0,s.h)("svg",{viewBox:"0 0 ".concat(this.viewBox," ").concat(this.viewBox),style:{transform:"rotate(".concat(this.widthToDeg(this.hundredPercent),"deg)")}},(0,s.h)("circle",{cx:t,cy:t,r:this.radius})),this.dataToSegments().map((function(n){return(0,s.h)("svg",{key:Math.random(),viewBox:"0 0 ".concat(e.viewBox," ").concat(e.viewBox),style:{transform:"rotate(".concat(n.rotation,"deg)")}},(0,s.h)("circle",{class:n.d.color,ref:function(t){return e.animateSegment((0,a.Z)((0,a.Z)({},n),{},{circle:t}),r)},style:{display:"none"},cx:t,cy:t,r:e.radius}))}))),(0,s.h)("div",{class:"metadata","aria-hidden":"true"},(0,s.h)("div",{class:"value"},this.value),"small"!==this.size&&(0,s.h)("div",{class:"description"},this.description))),this.hasLabelsOrSrHints()&&(0,s.h)("ul",{class:{legend:!0,"sr-only":"small"===this.size}},this.dataParsed.filter(this.hasLabelOrSrHint).map((function(t){return(0,s.h)("li",{key:Math.random(),ref:function(t){return e.animateLegendItem(t,n)},style:{opacity:"0"}},(0,s.h)("span",{"aria-hidden":"true"},(0,s.h)("sdx-icon",{iconName:"icon-record-filled",colorClass:t.color||"gray-tint-8"})," ",t.label),t.srHint&&(0,s.h)("span",{class:"sr-only"},t.srHint))})))))}},{key:"el",get:function(){return(0,s.g)(this)}}],[{key:"watchers",get:function(){return{data:["dataChanged"]}}}]),e}();p.style=":host,*,*:before,*:after{box-sizing:border-box}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}.component{display:flex;justify-content:center}.component.small .wrapper .chart-container .chart{height:64px;width:64px}.component.small .wrapper .chart-container .chart svg{height:64px;width:64px;stroke-linecap:butt}.component.small .wrapper .chart-container .chart svg circle{stroke:#d6d6d6}.component.small .wrapper .chart-container .chart svg circle.azure{stroke:#1781e3}.component.small .wrapper .chart-container .chart svg circle.turquoise{stroke:#0eaba9}.component.small .wrapper .chart-container .chart svg circle.iris{stroke:#5944c6}.component.small .wrapper .chart-container .chart svg circle.orchid{stroke:#a63297}.component.small .wrapper .chart-container .chart svg circle.pink{stroke:#e61e64}.component.small .wrapper .chart-container .metadata{font-size:16px;top:8px;right:8px;bottom:8px;left:8px}.component.bottom .wrapper{flex-direction:column;flex-basis:100%}.component.bottom .wrapper .legend{margin-top:24px;flex-wrap:wrap;width:100%}.component.bottom .wrapper .legend li:not(:last-of-type){margin-right:24px}.component.right .wrapper .legend{margin-left:32px;flex-direction:column}.component.right .wrapper .legend li:not(:last-of-type){margin-bottom:8px}.component.dark .wrapper .chart-container .metadata,.component.dark .wrapper .chart-container .metadata .description{color:#fff}.component .wrapper{display:flex;align-items:center}.component .wrapper .chart-container{position:relative}.component .wrapper .chart-container .chart{transform:rotate(-90deg);height:182px;width:182px}.component .wrapper .chart-container .chart svg{position:absolute;top:0;left:0;fill:transparent;stroke-width:2;stroke-linecap:round;height:182px;width:182px}.component .wrapper .chart-container .chart svg circle{stroke:#d6d6d6}.component .wrapper .chart-container .chart svg circle.azure{stroke:#1781e3}.component .wrapper .chart-container .chart svg circle.turquoise{stroke:#0eaba9}.component .wrapper .chart-container .chart svg circle.iris{stroke:#5944c6}.component .wrapper .chart-container .chart svg circle.orchid{stroke:#a63297}.component .wrapper .chart-container .chart svg circle.pink{stroke:#e61e64}.component .wrapper .chart-container .metadata{font-weight:400;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:28px;letter-spacing:-0.89px;font-size:32px;position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;top:32px;right:24px;bottom:24px;left:24px}.component .wrapper .chart-container .metadata .description{font-size:16px;color:#666;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;text-align:center}.component .wrapper .legend{display:flex;list-style:none;padding:0;font-weight:300;justify-content:center;margin:0}.component .wrapper .legend li{white-space:nowrap}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle{stroke:#5c5c5c}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.azure{stroke:#136fc3}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.turquoise{stroke:#0a7b7a}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.iris{stroke:#6f5ccb}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.orchid{stroke:#a54c9b}.component.sdx--dark-theme.small .wrapper .chart-container .chart svg circle.pink{stroke:#d41d56}.component.sdx--dark-theme .wrapper .chart-container .metadata .description{color:#e6e6e6}.component.sdx--dark-theme .wrapper .chart-container svg circle{stroke:#5c5c5c}.component.sdx--dark-theme .wrapper .chart-container svg circle.azure{stroke:#136fc3}.component.sdx--dark-theme .wrapper .chart-container svg circle.turquoise{stroke:#0a7b7a}.component.sdx--dark-theme .wrapper .chart-container svg circle.iris{stroke:#6f5ccb}.component.sdx--dark-theme .wrapper .chart-container svg circle.orchid{stroke:#a54c9b}.component.sdx--dark-theme .wrapper .chart-container svg circle.pink{stroke:#d41d56}"},6459:function(e,t,r){function a(e){if(null==e)throw new TypeError("Cannot destructure undefined")}r.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=315.f1fb35e7.chunk.js.map